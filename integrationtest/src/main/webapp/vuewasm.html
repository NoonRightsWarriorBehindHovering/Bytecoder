<html>
    <head>
        <title>Bytecoder Vue-to-WebAssembly Test</title>
    </head>
    <body>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="vuedemo_wasmbindings.js"></script>
    <script type="text/javascript">

        // Try to load the WASM file
        var request = new XMLHttpRequest();
        request.open('GET', 'vuedemo.wasm');
        request.responseType = 'arraybuffer';
        request.send();

        var instantiated = function(result) {
            bytecoder.init(result.instance);

            bytecoder.exports.initMemory(0);
            console.log("Memory initialized");
            bytecoder.exports.bootstrap(0);
            console.log("Bootstrapped");
            bytecoder.exports.main(0);
            console.log("Ready for action!");
        };

        request.onload = function() {
            var bytes = request.response;
            WebAssembly.instantiate(bytes, bytecoder.imports).then(instantiated);
        };
    </script>
    </body>
<body>
